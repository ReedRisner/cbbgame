DATABASE_URL="postgresql://postgres:postgres123@localhost:5432/cbbgame?schema=public"


cd C:\dev\cbbgame

git fetch origin
git reset --hard origin/main
git clean -fd

npm install
npm --prefix client install
npx prisma generate
npx prisma migrate dev --name phase4_backend

npm run seed
npm run verify
npm test

$env:VERIFY_PHASE2_FULL="1"
npm run verify:phase2
Remove-Item Env:VERIFY_PHASE2_FULL

npm run test:node -- tests/formulas/coaching.test.ts tests/formulas/playstyle.test.ts tests/formulas/simulation.test.ts tests/engine/gameEngine.test.ts tests/engine/possession.test.ts tests/systems/coaching/coaching.test.ts tests/systems/playstyle/playstyle.test.ts
node -r ts-node/register/transpile-only src/verifyPhase3.ts  

cd C:\dev\cbbgame
git fetch origin
git reset --hard origin/main
git clean -fd
npm install
npx prisma generate
npx prisma migrate dev --name phase4_backend
npm run seed
node -r ts-node/register/transpile-only src/verifyPhase4.ts


cd C:\dev\cbbgame
npm run client:dev

cd C:\dev\cbbgame
npm run api
