import { useApi } from '../../hooks/useApi';import { useUserTeam } from '../../context/UserTeamContext';import BudgetBar from '../../components/BudgetBar';import DataTable from '../../components/DataTable';
export default function BudgetContracts(){const {userTeamId}=useUserTeam(); const budget=useApi<any>(`/api/nil/budget/${userTeamId ?? 1}`); const contracts=useApi<any[]>(`/api/nil/contracts/${userTeamId ?? 1}`); if(budget.loading||contracts.loading)return <div>Loading...</div>; const rows=(contracts.data??[]).map(c=>[c.playerId,c.annualValue,c.years]); return <div className='space-y-4'><div className='card'><h2 className='font-semibold text-xl'>Budget</h2><p>${budget.data?.totalBudget ?? 0} total</p><BudgetBar committed={budget.data?.committed ?? 0} total={budget.data?.totalBudget ?? 1} /></div><div className='card'><h3 className='font-semibold mb-2'>Active Contracts</h3><DataTable headers={['Player','Annual','Years']} rows={rows} /></div></div>}
